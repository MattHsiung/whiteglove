(this.webpackJsonpwhiteglove=this.webpackJsonpwhiteglove||[]).push([[0],{36:function(e,t,n){e.exports=n(97)},41:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n.n(l),o=(n(41),n(1)),i=(n(47),n(48),n(10)),u=n(5),d=n.n(u),m=function(e){var t=e.onScan;return Object(a.useEffect)((function(){d.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#barcode")},decoder:{readers:["code_128_reader"]}},(function(e){if(e)console.log(e);else{d.a.start(),d.a.onDetected((function e(n){n.codeResult.code&&(d.a.offProcessed(e),d.a.stop(),t(n.codeResult.code))}))}}))}),[]),r.a.createElement("div",{id:"barcode"})},s=n(29),f=n.n(s),g=function(e){return fetch("https://mnrwefss2q-dsn.algolia.net/1/indexes/Listing_all_production/query?x-algolia-agent=Algolia%20for%20JavaScript%20(3.33.0)%3B%20Browser&x-algolia-application-id=MNRWEFSS2Q&x-algolia-api-key=a3a4de2e05d9e9b463911705fb6323ad",{method:"post",body:JSON.stringify({params:"query=&filters=objectID:".concat(e)})}).then((function(e){return e.json()})).then((function(e){var t=e.hits[0];if(!t)throw new Error("No listing found");return t}))},E=function(e){return f()(e,g)},b=n(3),p=n(4);function v(){var e=Object(b.a)(["\n  padding: 0 10px;\n"]);return v=function(){return e},e}function h(){var e=Object(b.a)([""]);return h=function(){return e},e}function w(){var e=Object(b.a)([""]);return w=function(){return e},e}function O(){var e=Object(b.a)([""]);return O=function(){return e},e}function S(){var e=Object(b.a)(["\n  max-width: 100%;\n"]);return S=function(){return e},e}var j=p.a.img(S()),k=p.a.h2(O()),y=p.a.h5(w()),C=p.a.h4(h()),x=p.a.span(v()),B=function(e){var t,n=e.listing;return r.a.createElement(o.Card,null,r.a.createElement(j,{src:n.cover_photo.url}),r.a.createElement(k,null,n.title),r.a.createElement(y,null,n.user.username),r.a.createElement(C,null,(t=n.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))),r.a.createElement(o.Button,{modifier:"large--cta",onClick:function(){return window.open(function(e){return"https://www.grailed.com/listings/".concat(e.id)}(n),"_blank")}},r.a.createElement("span",null,"Open in Grailed"),r.a.createElement(x,null),r.a.createElement(o.Icon,{icon:"fa-external-link-alt"})))},N=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],l=t[1],c=E(n),u=c.data,d=c.error;return r.a.createElement(o.Page,null,d&&r.a.createElement(o.AlertDialog,{isCancelable:!0},r.a.createElement("div",{className:"alert-dialog-title"},"Warning!"),r.a.createElement("div",{className:"alert-dialog-content"},"An error has occurred!"),r.a.createElement("div",{className:"alert-dialog-footer"},r.a.createElement(o.Button,{className:"alert-dialog-button"},"Ok"))),!u&&r.a.createElement(m,{onScan:l}),n&&u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Card,null,r.a.createElement(o.Button,{modifier:"large--cta",onClick:function(){return l(null)}},"Back to Scanner")),r.a.createElement(B,{listing:u})))},I=n(32),_=n.n(I),T=n(33),q=n.n(T);function D(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-gap: 10px;\n  border: 2px dashed black;\n  padding: 20px;\n"]);return D=function(){return e},e}var L=p.a.div(D()),P=function(e){var t=e.listing,n=Object(a.useRef)();return r.a.createElement(o.Card,null,r.a.createElement(q.a,{trigger:function(){return r.a.createElement(o.Button,null,"Print this out!")},content:function(){return n.current}}),r.a.createElement(L,{ref:n},r.a.createElement(_.a,{value:"".concat(t.id)}),r.a.createElement("div",null,r.a.createElement("p",null,t.title),r.a.createElement("p",null,t.user.username),r.a.createElement("p",null,new Date(t.created_at).toUTCString()))))},R=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(null),u=Object(i.a)(c,2),d=u[0],m=u[1],s=E(d),f=s.data,g=s.error;return r.a.createElement(o.Page,null,r.a.createElement(o.Card,null,r.a.createElement("h1",null,"Enter Listing Id"),r.a.createElement(o.Input,{value:n,onChange:function(e){return l(e.target.value)},modifier:"underbar",placeholder:"Listing Id"}),r.a.createElement(o.Button,{modifier:"large--cta",onClick:function(){return m(n)}},"Create QR code")),g&&r.a.createElement(o.Card,null,r.a.createElement("p",null,g.message)),f&&r.a.createElement(P,{listing:f}))},J=function(){return r.a.createElement(o.Page,null,r.a.createElement(o.Tabbar,{position:"bottom",tabBorder:!0,renderTabs:function(){return[{content:r.a.createElement(N,null),tab:r.a.createElement(o.Tab,{label:"Scan",icon:"fa-qrcode"})},{content:r.a.createElement(R,null),tab:r.a.createElement(o.Tab,{label:"Tag",icon:"fa-tag"})}]}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.af666c80.chunk.js.map